function split --description "split STRING DELIMETER - returns a list of the parts of STRING split by DELIMETER"
    echo $argv[1] | tr "$argv[2]" "\n"
end

function return_as_list --description "return_as_list LIST - echoes LIST each item on a new line"
    for i in $argv
        echo $i
    end
end

function get_arg_values --description "get_arg_values \"$argv\" KEY KEY... - returns a list of all values associated with any KEY"
    set keep 0
    for a in (split $argv[1] " ")
        if test $keep -eq 1
            set values $values $a
            set keep 0
        else
            switch $a
                case '-*'
                    for b in $argv[2..-1]
                        if test "$a" = "$b"
                            set keep 1
                            break
                        end
                    end
            end
        end
    end
    return_as_list $values
end

function get_arg_value --description "get_arg_value \"$argv\" KEY KEY... - returns the first value associated with any KEY"
    set values (get_arg_values $argv)
    if test -n "$values"
        echo $values[1]
    end
end

function get_arg_flag --description "get_arg_flag \"$argv\" KEY KEY... - Exits successfully if KEY is present in args"
    for f in $argv[2..-1]
        switch "$argv[1]"
            case "* $f *"
                return 0
            case "* $f"
                return 0
        end
    end
    return 1
end
